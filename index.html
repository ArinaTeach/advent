<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–°—á–∞—Å—Ç–ª–∏–≤–æ–≥–æ –ù–æ–≤–æ–≥–æ –ì–æ–¥–∞</title>

  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@500;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg: #ffffff;
      --panel: #ffffff;
      --ink:#0f172a;
      --muted:#6b7280;

      --stroke: rgba(0,0,0,.22);
      --stroke2: rgba(0,0,0,.14);

      --shadow: 0 10px 26px rgba(0,0,0,.08);
      --radius: 20px;

      --snow: rgba(150, 190, 220, .9);
    }

    *{ box-sizing:border-box; }

    body{
      margin:0;
      min-height:100vh;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--ink);
      background: var(--bg);
      display:flex;
      justify-content:center;
      padding: 20px 14px 30px;
    }

    .wrap{
      width:min(860px, 100%);
      position: relative;
      z-index: 1;
    }

    header{
      position: relative;
      display:flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 18px;
    }

    .title{
      text-align: center;
      display:flex;
      flex-direction:column;
      gap:4px;
    }

    h1{
      margin:0;
      font-family: "Cormorant Garamond", serif;
      font-weight: 600;
      font-size: clamp(26px, 4vw, 44px);
      letter-spacing: .6px;
    }

    .sub{
      margin:0;
      color:var(--muted);
      font-size:14px;
      line-height:1.25;
    }

    .musicBtn{
      position: absolute;
      right: 0;
      appearance:none;
      border:0;
      background: rgba(255,255,255,.92);
      color: var(--ink);
      padding: 10px 14px;
      border-radius: 999px;
      box-shadow: var(--shadow);
      cursor:pointer;
      font-weight: 650;
      display:flex;
      align-items:center;
      gap:10px;
      user-select:none;
      transition: transform .08s ease, opacity .2s ease;
      white-space:nowrap;
      -webkit-tap-highlight-color: transparent;
    }
    .musicBtn:active{ transform: translateY(1px); }
    .musicBtn.hidden{ display:none; }

    .musicBtn.musicImgBtn{
      background: transparent !important;
      padding: 0 !important;
      border-radius: 0 !important;
      box-shadow: none !important;
    }

    .grid{
      display:grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 10px;
    }
    @media (max-width: 720px){
      .grid{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
      header{ flex-direction:column; align-items:flex-start; }
    }

    .card{
      position:relative;
      border-radius: var(--radius);
      overflow:hidden;
      background: var(--panel);
      box-shadow: var(--shadow);
      aspect-ratio: 1 / 1;
      cursor:pointer;
      transform: translateZ(0);
      transition: transform .12s ease, opacity .2s ease, filter .2s ease;
      border: 2px solid var(--stroke2);
      -webkit-tap-highlight-color: transparent;
    }
    .card:hover{ transform: translateY(-2px); }

    .card.opened{
      border-color: #cfe7e4;
      background: #f7fcfb;
      box-shadow:
        0 8px 22px rgba(140,190,190,.35),
        inset 0 0 0 1px rgba(180,220,220,.45);
    }

    .card.locked{
      opacity: .55;
      filter: grayscale(.15);
      cursor: not-allowed;
      transform: none !important;
    }

    .img{
      position:absolute; inset: 10px;
      border-radius: 14px;
      background: #fff;
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
    }
    .img img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }

    .day{
      position:absolute;
      top:10px; left:10px;
      background: rgba(255,255,255,.92);
      padding: 6px 10px;
      border-radius: 999px;
      font-weight: 800;
      font-size: 14px;
      box-shadow: 0 10px 25px rgba(15,23,42,.10);
    }

    .card:focus,
    .card:focus-visible{
      outline: none;
    }

    /* modal */
    .overlay{
      position:fixed; inset:0;
      background: rgba(2,6,23,.45);
      display:none;
      align-items:center;
      justify-content:center;
      padding: 18px;
      z-index: 50;
    }
    .overlay.show{ display:flex; }

    .modal{
      width: min(360px, 90vw);
      aspect-ratio: 1 / 1;
      background: linear-gradient(
        180deg,
        #ffffff 0%,
        #fffdfb 70%,
        #fffaf6 100%
      );
      border-radius: 28px;
      box-shadow: 0 30px 90px rgba(0,0,0,.25);
      overflow:hidden;
      position: relative;
      display:flex;
    }

    .close{
      position:absolute;
      top: 10px;
      left: 10px;
      appearance:none;
      border:0;
      background: transparent;
      font-size: 24px;
      cursor:pointer;
      color: var(--muted);
      padding: 2px 8px;
      line-height: 1;
      -webkit-tap-highlight-color: transparent;
      z-index: 2;
    }

    .modalBody{
      padding: 22px 18px 18px;
      width: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
      position: relative;
    }

    .modalPic{
      position: absolute;
      bottom: 18px;
      left: 50%;
      transform: translateX(-50%);
    }

    .modalPic img{
      width: 56px;
      opacity: 0.95;
      mix-blend-mode: multiply;
    }

    .msg{
      margin:0;
      font-size: 18px;
      line-height: 1.45;
      white-space: pre-wrap;
    }

    /* ‚ùÑÔ∏è —Å–Ω–µ–≥ */
    #snow{
      position: fixed;
      inset: 0;
      pointer-events: none;
      overflow: hidden;
      z-index: 5;
    }

    .snowflake{
      position:absolute;
      top:-15px;
      left: 0;
      color: var(--snow);
      user-select:none;
      will-change: transform;
      filter: drop-shadow(0 2px 10px rgba(0,0,0,.12));
      animation:
        snow-fall linear infinite,
        snow-sway ease-in-out infinite;
      opacity: .90;
    }

    @keyframes snow-fall{
      to { transform: translate3d(var(--drift, 0px), 110vh, 0); }
    }
    @keyframes snow-sway{
      0%,100% { margin-left: 0px; }
      50%     { margin-left: 10px; }
    }
  </style>
</head>

<body>
  <div id="snow"></div>

  <div class="wrap">
    <header>
      <div class="title">
        <h1>–°—á–∞—Å—Ç–ª–∏–≤–æ–≥–æ –ù–æ–≤–æ–≥–æ –ì–æ–¥–∞</h1>
        <p class="sub" id="statusLine">–ö–∞—Ä—Ç–æ—á–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è –ø–æ –¥–∞—Ç–∞–º 1‚Äì12 —è–Ω–≤–∞—Ä—è (—Å 06:00 –ø–æ –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫—É) ‚ú®</p>
      </div>

      <button class="musicBtn musicImgBtn" id="musicBtn" type="button" aria-label="–í–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É">
        <img src="music.jpg" alt="–í–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É">
      </button>
    </header>

    <section class="grid" id="grid"></section>
  </div>

  <audio id="bg" src="bg.mp3" loop preload="auto"></audio>

  <div class="overlay" id="overlay" role="dialog" aria-modal="true">
    <div class="modal">
      <button class="close" id="closeBtn" type="button" aria-label="–ó–∞–∫—Ä—ã—Ç—å">√ó</button>
      <div class="modalBody">
        <p class="msg" id="modalText"></p>
        <div class="modalPic">
          <img src="heart.jpg" alt="–°–µ—Ä–¥–µ—á–∫–æ">
        </div>
      </div>
    </div>
  </div>

<script>
(() => {
  const DAYS = 12;

  // ‚úÖ —Ç–µ–∫—Å—Ç—ã –∫–∞—Ä—Ç–æ—á–µ–∫ (—Ç–≤–æ–∏)
  const messages = [
    `–£–ª—ã–±–Ω–∏—Å—å! –≠—Ç–æ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∞–ø–≥—Ä–µ–π–¥ –≤–Ω–µ—à–Ω–æ—Å—Ç–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è. –ü–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ.`,
    `–ï—Å–ª–∏ —Ç—ã –±—É–¥–µ—à—å —Ç–∞–∫–æ–π –∫–∞–∫ –≤—Å–µ. –¢–æ –∫—Ç–æ –±—É–¥–µ—Ç —Ç–∞–∫–æ–π –∫–∞–∫ —Ç—ã?`,
    `–°—Ä–æ—á–Ω–æ —Å–∫—É—à–∞–π —á—Ç–æ-–Ω–∏–±—É–¥—å –≤–∫—É—Å–Ω–µ–Ω—å–∫–æ–µ. –≠—Ç–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–æ–≤–µ—Ç –¥–Ω—è. –ò –æ–Ω –Ω–µ –æ–±—Å—É–∂–¥–∞–µ—Ç—Å—è.`,
    `–ï—Å–ª–∏ —Å–æ–º–Ω–µ–≤–∞–µ—à—å—Å—è –º–µ–∂–¥—É "–î–∞" –∏ "–ù–µ—Ç", –≤—ã–±–µ—Ä–∏ "–î–∞". –ü–æ—Ç–æ–º —Ä–∞–∑–±–µ—Ä—ë—à—å—Å—è.`,
    `–í—Å–µ–≥–¥–∞ –Ω–∞—Ö–æ–¥–∏ –≤—Ä–µ–º—è –Ω–∞ —Ç–æ, —á—Ç–æ –¥–µ–ª–∞–µ—Ç —Ç–µ–±—è —Å—á–∞—Å—Ç–ª–∏–≤–æ–π, —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–Ω–æ–π –∏ —Ä–∞–¥–æ—Å—Ç–Ω–æ–π.`,
    `–£–º–µ–Ω–∏–µ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –≤–µ—â–∏, —è–≤–ª—è–µ—Ç—Å—è –æ–¥–Ω–∏–º –∏–∑ –ª—É—á—à–∏—Ö –ø—É—Ç–µ–π –∫ –¥—É—à–µ–≤–Ω–æ–º—É —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏—é.`,
    `–ù–µ –ø–µ—Ä–µ–∂–∏–≤–∞–π, –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è. –î–∞–∂–µ Wi-Fi –∏–Ω–æ–≥–¥–∞ —Ç—É–ø–∏—Ç.\n–ê –æ–Ω, –º–µ–∂–¥—É –ø—Ä–æ—á–∏–º, –≤—ã—Å–æ–∫–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏.`,
    `–°–µ–≥–æ–¥–Ω—è –º–æ–∂–Ω–æ –≤—Å—ë. –ù—É –ø–æ—á—Ç–∏ –≤—Å—ë. –õ–∞–¥–Ω–æ, –º–Ω–æ–≥–æ–µ. –ù–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø–æ—Ä—Ç–∏—Ç—å —Ç–æ—á–Ω–æ –Ω–µ–ª—å–∑—è.`,
    `–†–∞–∑—Ä–µ—à–∞—é —Ç–µ–±–µ —Å–µ–≥–æ–¥–Ω—è –±—ã—Ç—å –Ω–µ–º–Ω–æ–≥–æ –ª–µ–Ω–∏–≤–æ–π. –ò–Ω–æ–≥–¥–∞ —ç—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è ¬´–±–µ—Ä–µ–∂–Ω–æ –∫ —Å–µ–±–µ¬ª.`,
    `–ï—Å–ª–∏ –º–∏—Ä –≤–¥—Ä—É–≥ –±–µ—Å–∏—Ç ‚Äî –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–π –±–ª–∏–∑–∫–æ –∫ —Å–µ—Ä–¥—Ü—É.\n–í–æ–∑–º–æ–∂–Ω–æ, –æ–Ω –ø—Ä–æ—Å—Ç–æ –∑–∞–≤–∏–¥—É–µ—Ç. –£ –Ω–µ–≥–æ –≤–æ–æ–±—â–µ —Å–ª–æ–∂–Ω—ã–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä.`,
    `–¢—ã —Å–µ–≥–æ–¥–Ω—è —É–∂–µ –º–æ–ª–æ–¥–µ—Ü. –î–∞–∂–µ –µ—Å–ª–∏ –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ—Å–Ω—É–ª–∞—Å—å –∏ –≤—Å—Ç–∞–ª–∞.\n–ê –µ—Å–ª–∏ –µ—â—ë –∏ —É–ª—ã–±–Ω—É–ª–∞—Å—å ‚Äî —ç—Ç–æ –≤–æ–æ–±—â–µ –ø–µ—Ä–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–ª–∞–Ω–∞.`,
    `–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –±–∞–ª–æ–≤–∞—Ç—å —Å–µ–±—è –±–µ–∑ –æ–±—ä—è—Å–Ω–µ–Ω–∏–π. –î–∞–∂–µ –¥–≤–∞ —Ä–∞–∑–∞ ‚Äî –Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π.`
  ];

  const grid = document.getElementById('grid');
  const statusLine = document.getElementById('statusLine');

  const overlay = document.getElementById('overlay');
  const modalText = document.getElementById('modalText');
  const closeBtn = document.getElementById('closeBtn');

  const audio = document.getElementById('bg');
  const musicBtn = document.getElementById('musicBtn');

  // ‚úÖ —Ö—Ä–∞–Ω–µ–Ω–∏–µ (—É –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç–¥–µ–ª—å–Ω–æ –≤ –µ–≥–æ –±—Ä–∞—É–∑–µ—Ä–µ)
  const OPENED_SET_KEY = 'advent_opened_cards_jan_nsk_v1';

  function loadOpenedSet(){
    try{
      const raw = localStorage.getItem(OPENED_SET_KEY);
      const arr = raw ? JSON.parse(raw) : [];
      return new Set(Array.isArray(arr) ? arr.map(Number) : []);
    }catch{
      return new Set();
    }
  }

  function saveOpenedSet(set){
    const arr = Array.from(set).sort((a,b)=>a-b);
    localStorage.setItem(OPENED_SET_KEY, JSON.stringify(arr));
  }

  function showModal(text){
    modalText.textContent = text;
    overlay.classList.add('show');
  }
  function closeModal(){
    overlay.classList.remove('show');
  }

  closeBtn.addEventListener('click', closeModal);
  overlay.addEventListener('click', (e) => { if(e.target === overlay) closeModal(); });
  window.addEventListener('keydown', (e)=>{ if(e.key === 'Escape') closeModal(); });

  // ‚úÖ –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫ –≤—Ä–µ–º—è/–¥–∞—Ç–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
  const TZ = 'Asia/Novosibirsk';
  function getNskParts(){
    const parts = new Intl.DateTimeFormat('ru-RU', {
      timeZone: TZ,
      year: 'numeric', month: '2-digit', day: '2-digit',
      hour: '2-digit', minute: '2-digit', hour12: false
    }).formatToParts(new Date());

    const map = Object.fromEntries(parts.map(p => [p.type, p.value]));
    return {
      year: Number(map.year),
      month: Number(map.month),
      day: Number(map.day),
      hour: Number(map.hour),
      minute: Number(map.minute),
    };
  }

  // ‚úÖ "–î–æ—Å—Ç—É–ø–Ω–æ –¥–æ –∫–∞–∫–æ–≥–æ –Ω–æ–º–µ—Ä–∞ –∫–∞—Ä—Ç–æ—á–∫–∏" –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º:
  // - —Ç–æ–ª—å–∫–æ —è–Ω–≤–∞—Ä—å 1..12
  // - "—Å–µ–≥–æ–¥–Ω—è" –Ω–∞—á–∏–Ω–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å 06:00 –ù–°–ö
  function getAvailableCardNumber(){
    const p = getNskParts();

    // —Å–µ–∑–æ–Ω–Ω—ã–π –≥–æ–¥: –µ—Å–ª–∏ —Å–µ–π—á–∞—Å –¥–µ–∫–∞–±—Ä—å ‚Äî –∂–¥—ë–º —è–Ω–≤–∞—Ä—å —Å–ª–µ–¥—É—é—â–µ–≥–æ –≥–æ–¥–∞
    const seasonYear = (p.month === 12) ? (p.year + 1) : p.year;

    // –µ—Å–ª–∏ —Å–µ–π—á–∞—Å –µ—â—ë –Ω–µ —è–Ω–≤–∞—Ä—å –Ω—É–∂–Ω–æ–≥–æ –≥–æ–¥–∞ ‚Äî –Ω–∏—á–µ–≥–æ –Ω–µ –¥–æ—Å—Ç—É–ø–Ω–æ
    // (–≤ –¥–µ–∫–∞–±—Ä–µ ‚Äî 0, –≤ —Ñ–µ–≤—Ä–∞–ª–µ –∏ –¥–∞–ª—å—à–µ ‚Äî —Å—á–∏—Ç–∞–µ–º, —á—Ç–æ –≤—Å—ë —É–∂–µ –¥–æ—Å—Ç—É–ø–Ω–æ)
    if (p.year < seasonYear) return 0;

    // –µ—Å–ª–∏ —Å–µ–π—á–∞—Å —è–Ω–≤–∞—Ä—å —Å–µ–∑–æ–Ω–∞ ‚Äî –ø—Ä–∏–º–µ–Ω—è–µ–º –æ–∫–Ω–æ 06:00
    if (p.month === 1 && p.year === seasonYear){
      let available = p.day; // 1..31
      if (p.hour < 6) available = p.day - 1; // –¥–æ 06:00 "—Å–µ–≥–æ–¥–Ω—è" –µ—â—ë –Ω–µ –Ω–∞—á–∞–ª–æ—Å—å
      if (available < 0) available = 0;
      if (available > DAYS) available = DAYS;
      return available;
    }

    // –µ—Å–ª–∏ –º–µ—Å—è—Ü –ø–æ–∑–∂–µ —è–Ω–≤–∞—Ä—è –≤ —ç—Ç–æ–º —Å–µ–∑–æ–Ω–µ ‚Äî –≤—Å–µ 12 —É–∂–µ –¥–æ—Å—Ç—É–ø–Ω—ã
    if (p.year > seasonYear) return DAYS;
    if (p.month > 1) return DAYS;

    // –µ—Å–ª–∏ –º–µ—Å—è—Ü –¥–æ —è–Ω–≤–∞—Ä—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–µ–∫–∞–±—Ä—å —Å–µ–∑–æ–Ω–∞Year) ‚Äî –µ—â—ë 0
    return 0;
  }

  function render(){
    const opened = loadOpenedSet();
    const available = getAvailableCardNumber(); // 0..12

    if (available <= 0){
      statusLine.textContent = "–û—Ç–∫—Ä–æ–π —Å 1 –ø–æ 12 —è–Ω–≤–∞—Ä—è";
    } else if (available >= DAYS){
      statusLine.textContent = "–í—Å–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —É–∂–µ –¥–æ—Å—Ç—É–ø–Ω—ã üéÑ –ú–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –∏ –ø–µ—Ä–µ—á–∏—Ç—ã–≤–∞—Ç—å –æ—Ç–∫—Ä—ã—Ç—ã–µ";
    } else {
      statusLine.textContent = `–°–µ–π—á–∞—Å –¥–æ—Å—Ç—É–ø–Ω—ã –∫–∞—Ä—Ç–æ—á–∫–∏ 1‚Äì${available} (–ø–æ –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫—É, –ø–æ—Å–ª–µ 06:00) ‚ú®`;
    }

    grid.innerHTML = '';

    for(let i=1;i<=DAYS;i++){
      const card = document.createElement('button');
      card.type = 'button';
      card.className = 'card';

      const isOpened = opened.has(i);
      const isUnlockedByDate = (i <= available);
      const canClick = isOpened || isUnlockedByDate;

      if (isOpened) card.classList.add('opened');
      if (!canClick) card.classList.add('locked');

      card.innerHTML = `
        <div class="day">${i}</div>
        <div class="img"><img src="${i}.jpg" alt="–ö–∞—Ä—Ç–æ—á–∫–∞ ${i}"></div>
      `;

      card.addEventListener('click', () => {
        const openedNow = loadOpenedSet();

        // –µ—Å–ª–∏ —É–∂–µ –æ—Ç–∫—Ä—ã—Ç–∞ ‚Äî –ø—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º
        if (openedNow.has(i)){
          showModal(messages[i-1] || "ü§ç");
          return;
        }

        // –µ—Å–ª–∏ –¥–∞—Ç–∞ –µ—â—ë –Ω–µ –Ω–∞—Å—Ç—É–ø–∏–ª–∞ ‚Äî –∑–∞–ø—Ä–µ—â–∞–µ–º
        if (i > getAvailableCardNumber()){
          showModal(`–≠—Ç–∞ –∫–∞—Ä—Ç–æ—á–∫–∞ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è ${i} —è–Ω–≤–∞—Ä—è ü§ç`);
          return;
        }

        // –æ—Ç–∫—Ä—ã—Ç—å (–ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ —Ç–æ–∂–µ –º–æ–∂–Ω–æ)
        openedNow.add(i);
        saveOpenedSet(openedNow);
        showModal(messages[i-1] || "ü§ç");
        render();
      });

      grid.appendChild(card);
    }
  }

  // üéµ –º—É–∑—ã–∫–∞
  musicBtn.addEventListener('click', async () => {
    try{
      audio.volume = 0.35;
      await audio.play();
      musicBtn.classList.add('hidden');
    }catch(err){
      console.warn('Audio play blocked:', err);
      statusLine.textContent = "–ù–∞–∂–º–∏ üéµ –µ—â—ë —Ä–∞–∑, —á—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É (–±—Ä–∞—É–∑–µ—Ä –ø—Ä–æ—Å–∏—Ç –¥–µ–π—Å—Ç–≤–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è).";
    }
  });

  // ‚ùÑÔ∏è —Å–Ω–µ–≥
  const snow = document.getElementById('snow');
  if (snow) {
    const SNOW_COUNT = 26;

    for (let i = 0; i < SNOW_COUNT; i++) {
      const flake = document.createElement('div');
      flake.className = 'snowflake';
      flake.textContent = '‚ùÑ';

      const size = Math.random() * 6 + 10;

      let left;
      if (Math.random() < 0.85) left = Math.random() * 40 + 30;
      else left = Math.random() < 0.5 ? Math.random() * 15 : Math.random() * 15 + 85;

      const fall = Math.random() * 10 + 12;
      const delay = Math.random() * 10;
      const sway = Math.random() * 3 + 4;
      const drift = (Math.random() * 60 - 30).toFixed(0) + 'px';

      flake.style.fontSize = size + 'px';
      flake.style.left = left + 'vw';
      flake.style.setProperty('--drift', drift);
      flake.style.animationDuration = `${fall}s, ${sway}s`;
      flake.style.animationDelay = `${delay}s, ${Math.random() * 2}s`;
      flake.style.opacity = (Math.random() * 0.3 + 0.7).toFixed(2);

      snow.appendChild(flake);
    }
  }

  render();
})();
</script>
</body>
</html>

